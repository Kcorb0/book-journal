WindowManager:
    LoginWindow:
    CreateAccount
    MainWindow:


<LoginWindow>:
    name: "login"

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "assets/books_bg2.jpeg"

    FloatLayout:

        Label:
            text: "Book Journal"
            font_size: 50
            size_hint: 0.2, 0.05
            pos_hint: {"x":0.4, "y":0.8}

        Label:
            text: "Username/Email:"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.2, "y":0.6}

        TextInput:
            id: username
            multiline: False
            size_hint: 0.3, None
            height: 30
            pos_hint: {"x":0.4, "y":0.6}

        Label:
            text: "Password:"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.23, "y":0.5}

        TextInput:
            id: password
            multiline: False
            size_hint: 0.3, None
            height: 30
            pos_hint: {"x":0.4, "y":0.5}

        Button:
            text: "Login"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.3, "y":0.4}

            on_release:
                root.login(root.ids.username.text, root.ids.password.text)
                app.root.current = "main"

        Button:
            text: "Create Account"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.5, "y":0.4}

            on_release:
                app.root.current = "createAccount"
                root.manager.transition.direction = "left"


<CreateAccount>:
    name: "createAccount"

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "assets/books_bg2.jpeg"

    FloatLayout:
        Label:
            text: "Create Account"
            font_size: 50
            size_hint: 0.2, 0.05
            pos_hint: {"x":0.4, "y":0.8}

        Label:
            text: "Your email:"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.2, "y":0.7}

        TextInput:
            id: new_email
            multiline: False
            size_hint: 0.3, None
            height: 30
            pos_hint: {"x":0.4, "y":0.7}

        Label:
            text: "Username:"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.2, "y":0.6}

        TextInput:
            id: new_u_name
            multiline: False
            size_hint: 0.3, None
            height: 30
            pos_hint: {"x":0.4, "y":0.6}

        Label:
            text: "Firstname:"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.15, "y":0.5}

        TextInput:
            id: new_f_name
            multiline: False
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.3, "y":0.5}

        Label:
            text: "Surname:"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.45, "y":0.5}

        TextInput:
            id: new_s_name
            multiline: False
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.6, "y":0.5}

        Label:
            text: "Password:"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.2, "y":0.4}

        TextInput:
            id: new_pwd
            multiline: False
            size_hint: 0.3, None
            height: 30
            pos_hint: {"x":0.4, "y":0.4}

        Button:
            text: "Back to Login"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.3, "y":0.3}

            on_release:
                app.root.current = "login"
                root.manager.transition.direction = "right"

        Button:
            text: "Create Account"
            size_hint: 0.2, None
            height: 30
            pos_hint: {"x":0.5, "y":0.3}

            on_release:
                root.create_account(root.ids.new_email.text, root.ids.new_u_name.text, root.ids.new_f_name.text,
                root.ids.new_s_name.text, root.ids.new_pwd.text)


<MainWindow>:
    name: "main"

    Button:
        text: "Go back"

        on_release:
            app.root.current = "login"
            root.manager.transition.direction = "right"

